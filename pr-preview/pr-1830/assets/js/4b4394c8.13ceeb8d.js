"use strict";(self.webpackChunktextlint_website=self.webpackChunktextlint_website||[]).push([[3548],{1785:e=>{e.exports=JSON.parse('{"permalink":"/textlint/pr-preview/pr-1830/blog/2024/02/03/textlint-14","source":"@site/blog/2024-02-03-textlint-14.md","title":"textlint v14.0.0","description":"We are pleased to announce the release of textlint v14.0.0.","date":"2024-02-03T00:00:00.000Z","tags":[],"readingTime":4.01,"hasTruncateMarker":false,"authors":[{"name":"azu","title":"textlint creator","url":"http://github.com/azu","imageURL":"https://github.com/azu.png","key":"azu","page":null}],"frontMatter":{"title":"textlint v14.0.0","authors":"azu"},"unlisted":false,"prevItem":{"title":"textlint v15.0.0","permalink":"/textlint/pr-preview/pr-1830/blog/2025/06/22/textlint-15"},"nextItem":{"title":"textlint v13.0.0","permalink":"/textlint/pr-preview/pr-1830/blog/2023/01/27/textlint-13"}}')},4552:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var i=n(1785),r=n(7711),l=n(8882);const s={title:"textlint v14.0.0",authors:"azu"},o=void 0,d={authorsImageUrls:[void 0]},c=[{value:"Summary",id:"summary",level:2},{value:"Breaking Changes for user",id:"breaking-changes-for-user",level:2},{value:"Drop Node.js 16 support",id:"drop-nodejs-16-support",level:3},{value:"Move <code>gulp-textlint</code> to out of monorepo",id:"move-gulp-textlint-to-out-of-monorepo",level:3},{value:"Remove <code>--parallel</code> and <code>--maxConcurrency</code> flag",id:"remove---parallel-and---maxconcurrency-flag",level:3},{value:"Remove <code>@textlint/linter-formatter</code> CLI",id:"remove-textlintlinter-formatter-cli",level:3},{value:"Breaking Changes for developer",id:"breaking-changes-for-developer",level:2},{value:"Change textlint-scirpts output target",id:"change-textlint-scirpts-output-target",level:3},{value:"Add deprecation warning to old APIs",id:"add-deprecation-warning-to-old-apis",level:3},{value:"Depretead old APIs",id:"depretead-old-apis",level:4},{value:"How to control the deprecation message?",id:"how-to-control-the-deprecation-message",level:4},{value:"Documentation for New APIs",id:"documentation-for-new-apis",level:4},{value:"Migration Guide",id:"migration-guide",level:4},{value:"<code>TextLintEngine</code>/<code>TextFixEngine</code> migration",id:"textlintenginetextfixengine-migration",level:5},{value:"<code>TextLintCore</code> and <code>textlint</code> migration",id:"textlintcore-and-textlint-migration",level:5},{value:"Full Changelog",id:"full-changelog",level:2},{value:"Thanks for Support!",id:"thanks-for-support",level:2}];function a(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",iframe:"iframe",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"We are pleased to announce the release of textlint v14.0.0.\nThis release includes a number of new features and improvements."}),"\n",(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(t.p,{children:"textlint v14 requires Node.js v18.14.0;."}),"\n",(0,r.jsx)(t.p,{children:"Node.js 16 is already EOL, so we drop support for Node.js 16.\nIf you use older Node.js, you need to upgrade Node.js to LTS(Long Term Support) version."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://nodejs.org/en/download/",children:"Download | Node.js"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"breaking-changes-for-user",children:"Breaking Changes for user"}),"\n",(0,r.jsx)(t.h3,{id:"drop-nodejs-16-support",children:"Drop Node.js 16 support"}),"\n",(0,r.jsx)(t.p,{children:"textlint v14 requires Node.js v18.14.0+.\nYou need to upgrade Node.js to 18 or 20."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://nodejs.org/en/download/",children:"Download | Node.js"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["For textlint developer, ",(0,r.jsx)(t.code,{children:"textlint-scripts"})," also requires Node.js v18.19.0+."]}),"\n",(0,r.jsxs)(t.h3,{id:"move-gulp-textlint-to-out-of-monorepo",children:["Move ",(0,r.jsx)(t.code,{children:"gulp-textlint"})," to out of monorepo"]}),"\n",(0,r.jsxs)(t.p,{children:["We move ",(0,r.jsx)(t.code,{children:"gulp-textlint"})," to out of monorepo."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/pull/1319",children:"chore!: move gulp-textlint to out of monorepo by azu \xb7 Pull Request #1319 \xb7 textlint/textlint"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/textlint/gulp-textlint",children:"textlint/gulp-textlint"})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"gulp-textlint"})," is not maintained by textlint core team."]}),"\n",(0,r.jsxs)(t.p,{children:["If you interested in ",(0,r.jsx)(t.code,{children:"gulp-textlint"}),", please check the following issue:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/textlint/gulp-textlint/issues/12",children:"Looking for new maintainers \xb7 Issue #12 \xb7 textlint/gulp-textlint"})}),"\n"]}),"\n",(0,r.jsxs)(t.h3,{id:"remove---parallel-and---maxconcurrency-flag",children:["Remove ",(0,r.jsx)(t.code,{children:"--parallel"})," and ",(0,r.jsx)(t.code,{children:"--maxConcurrency"})," flag"]}),"\n",(0,r.jsxs)(t.p,{children:["textlint v14 removes ",(0,r.jsx)(t.code,{children:"--parallel"})," and ",(0,r.jsx)(t.code,{children:"--maxConcurrency"})," flag.\nThis flag is for parallel linting, but It is not used by many users."]}),"\n",(0,r.jsx)(t.p,{children:"We may visit again, but we will delete this experimental flag once."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Issue: ",(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/633",children:"Parallel linting \xb7 Issue #633 \xb7 textlint/textlint"})]}),"\n",(0,r.jsxs)(t.li,{children:["PR: ",(0,r.jsxs)(t.a,{href:"https://github.com/textlint/textlint/pull/1338",children:["fix(textlint): remove ",(0,r.jsx)(t.code,{children:"--parallel"})," and ",(0,r.jsx)(t.code,{children:"--maxConcurrency"})," flag by azu \xb7 Pull Request #1338 \xb7 textlint/textlint"]})]}),"\n"]}),"\n",(0,r.jsxs)(t.h3,{id:"remove-textlintlinter-formatter-cli",children:["Remove ",(0,r.jsx)(t.code,{children:"@textlint/linter-formatter"})," CLI"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"@textlint/linter-formatter"})," includes CLI, but it is not used by many users.\nSo, we remove the CLI from ",(0,r.jsx)(t.code,{children:"@textlint/linter-formatter"}),"."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["PR: ",(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/pull/1272",children:"Removes CLI from @textlint/linter-formatter by kapooraryan \xb7 Pull Request #1272 \xb7 textlint/textlint"})]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"breaking-changes-for-developer",children:"Breaking Changes for developer"}),"\n",(0,r.jsx)(t.h3,{id:"change-textlint-scirpts-output-target",children:"Change textlint-scirpts output target"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"textlint-scripts"})," output target is changed to Node.js v18.14.0."]}),"\n",(0,r.jsx)(t.p,{children:"Previously, It output ES2015-compatible JavaScript.\nIn textlint v14, It outputs ES2022-compatible JavaScript."}),"\n",(0,r.jsxs)(t.p,{children:["It means that ",(0,r.jsx)(t.code,{children:"textlint-scripts"})," output JavaScript is compatible with Node.js v18.14.0+.\nIt aims to support the latest JavaScript features and improve the performance of the output."]}),"\n",(0,r.jsx)(t.h3,{id:"add-deprecation-warning-to-old-apis",children:"Add deprecation warning to old APIs"}),"\n",(0,r.jsxs)(t.p,{children:["textlint v14 adds a deprecation warning to old APIs.\nOld APIs are ",(0,r.jsx)(t.code,{children:"textlint"}),", ",(0,r.jsx)(t.code,{children:"TextLintCore"}),", ",(0,r.jsx)(t.code,{children:"TextLintEngine"}),", and ",(0,r.jsx)(t.code,{children:"TextFixEngine"})," of ",(0,r.jsx)(t.code,{children:"textlint"})," package."]}),"\n",(0,r.jsxs)(t.p,{children:["There are replaced by ",(0,r.jsx)(t.code,{children:"createLinter"})," and ",(0,r.jsx)(t.code,{children:"loadTextlintrc"}),", and ",(0,r.jsx)(t.code,{children:"loadLinerFormatter"})," since v13.0.0."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://textlint.org/blog/2023/01/27/textlint-13.html",children:"textlint v13.0.0 \xb7 textlint"})}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"depretead-old-apis",children:"Depretead old APIs"}),"\n",(0,r.jsxs)(t.p,{children:["Depreacate four APIs in ",(0,r.jsx)(t.code,{children:"textlint"})," package."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Old API"}),(0,r.jsx)(t.th,{children:"New API"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"textlint"})}),(0,r.jsxs)(t.td,{children:["use ",(0,r.jsx)(t.code,{children:"@textlint/legacy-textlint-core"})," or ",(0,r.jsx)(t.code,{children:"@textlint/kernel"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"TextLintCore"})}),(0,r.jsxs)(t.td,{children:["use ",(0,r.jsx)(t.code,{children:"@textlint/legacy-textlint-core"})," or ",(0,r.jsx)(t.code,{children:"@textlint/kernel"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"TextLintEngine"})}),(0,r.jsxs)(t.td,{children:["use ",(0,r.jsx)(t.code,{children:"createLinter"})," and ",(0,r.jsx)(t.code,{children:"loadTextlintrc"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"TextFixEngine"})}),(0,r.jsxs)(t.td,{children:["use ",(0,r.jsx)(t.code,{children:"createLinter"})," and ",(0,r.jsx)(t.code,{children:"loadTextlintrc"})]})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"how-to-control-the-deprecation-message",children:"How to control the deprecation message?"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["If the ",(0,r.jsx)(t.code,{children:"NODE_OPTIONS=--throw-deprecation"})," is used, the deprecation warning is thrown as an exception rather than being emitted as an event."]}),"\n",(0,r.jsxs)(t.li,{children:["If the ",(0,r.jsx)(t.code,{children:"NODE_OPTIONS=--no-deprecation"})," is used, the deprecation warning is suppressed."]}),"\n",(0,r.jsxs)(t.li,{children:["If the ",(0,r.jsx)(t.code,{children:"NODE_OPTIONS=--trace-deprecation"})," is used, the deprecation warning is printed to stderr along with the full stack trace."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["If you want to find the usage of deprecation APIs, you can run with ",(0,r.jsx)(t.code,{children:"NODE_OPTIONS=--throw-deprecation"})," env."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"NODE_OPTIONS=--throw-deprecation node your-script.js\n"})}),"\n",(0,r.jsxs)(t.p,{children:["For more details, see ",(0,r.jsx)(t.a,{href:"https://nodejs.org/api/process.html#processemitwarningwarning-options",children:"process.emitWarning(warning[, options])"}),"."]}),"\n",(0,r.jsx)(t.h4,{id:"documentation-for-new-apis",children:"Documentation for New APIs"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://textlint.org/docs/use-as-modules.html",children:"Use as Node Modules \xb7 textlint"})}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/discussions/968",children:"Feedback for new APIs \xb7 textlint/textlint \xb7 Discussion #968"})}),"\n"]}),"\n",(0,r.jsxs)(t.h5,{id:"textlintenginetextfixengine-migration",children:[(0,r.jsx)(t.code,{children:"TextLintEngine"}),"/",(0,r.jsx)(t.code,{children:"TextFixEngine"})," migration"]}),"\n",(0,r.jsxs)(t.p,{children:["Use ",(0,r.jsx)(t.code,{children:"createLinter"})," and ",(0,r.jsx)(t.code,{children:"loadTextlintrc"})," instead of ",(0,r.jsx)(t.code,{children:"TextLintEngine"}),"/",(0,r.jsx)(t.code,{children:"TextFixEngine"})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'import { TextLintEngine } from "textlint";\nimport path from "path";\nfunction lintFile(filePath) {\n  const engine = new TextLintEngine({\n    formatterName: "stylish",\n  });\n  const filePathList = [filePath];\n  return engine.executeOnFiles(filePathList).then(function (results) {\n    const output = engine.formatResults(results);\n    console.log(output);\n  });\n}\nlintFile(path.resolve(process.cwd(), "README.md"));\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u2192"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:'import { createLinter, loadTextlintrc, loadLinterFormatter } from "textlint";\nimport path from "node:path";\nimport { fileURLToPath } from "node:url";\nasync function lintFile(filePath) {\n    // descriptor is a structure object for linter\n    // It includes rules, plugins, and options\n    const descriptor = await loadTextlintrc({\n        configFilePath: path.join(process.cwd(), ".textlintrc.json")\n    });\n    const linter = createLinter({\n        descriptor\n    });\n    const results = await linter.lintFiles([filePath]);\n    // textlint has two types formatter sets for linter and fixer\n    const formatter = await loadLinterFormatter({ formatterName: "stylish" });\n    const output = formatter.format(results);\n    console.log(output);\n}\nlintFile(path.join(process.cwd(), "README.md")\n'})}),"\n",(0,r.jsxs)(t.h5,{id:"textlintcore-and-textlint-migration",children:[(0,r.jsx)(t.code,{children:"TextLintCore"})," and ",(0,r.jsx)(t.code,{children:"textlint"})," migration"]}),"\n",(0,r.jsxs)(t.p,{children:["Use ",(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/blob/master/packages/%40textlint/legacy-textlint-core/README.md",children:(0,r.jsx)(t.code,{children:"@textlint/legacy-textlint-core"})})," instead of it.\nThis package is deprecated, but you can migrate it smooth."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-diff",children:'- import { TextLintCore } from "textlint";\n+ import { TextLintCore } from "@textlint/legacy-textlint-core";\nconst textlint = new TextLintCore();\n'})}),"\n",(0,r.jsx)(t.h2,{id:"full-changelog",children:"Full Changelog"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/textlint/textlint/releases/tag/v14.0.0",children:"textlint v14.0.0 - textlint"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"thanks-for-support",children:"Thanks for Support!"}),"\n",(0,r.jsx)(t.p,{children:"Many people support us, Thanks!"}),"\n",(0,r.jsxs)(t.p,{children:["If you're interested in GitHub Sponsor, please check ",(0,r.jsx)(t.a,{href:"https://github.com/sponsors/azu",children:"@azu on GitHub Sponsors"}),"!"]}),"\n",(0,r.jsx)(t.iframe,{src:"https://github.com/sponsors/azu/card",title:"Sponsor azu",height:"225",width:"600",style:{border:"0"}})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8882:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>o});var i=n(3303);const r={},l=i.createContext(r);function s(e){const t=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:t},e.children)}}}]);