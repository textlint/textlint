"use strict";(self.webpackChunktextlint_website=self.webpackChunktextlint_website||[]).push([[26],{573:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"rule-preset","title":"Creating Preset","description":"\\"preset\\" is a collection of rules and rulesConfig.","source":"@site/../docs/rule-preset.md","sourceDirName":".","slug":"/rule-preset","permalink":"/textlint/pr-preview/pr-1539/docs/rule-preset","draft":false,"unlisted":false,"editUrl":"https://github.com/textlint/textlint/edit/master/docs/../docs/rule-preset.md","tags":[],"version":"current","lastUpdatedBy":"renovate[bot]","lastUpdatedAt":1751758153000,"frontMatter":{"id":"rule-preset","title":"Creating Preset"},"sidebar":"docs","previous":{"title":"Creating Fixable Rule","permalink":"/textlint/pr-preview/pr-1539/docs/rule-fixable"},"next":{"title":"Advanced: Paragraph Rule","permalink":"/textlint/pr-preview/pr-1539/docs/rule-advanced"}}');var l=t(7968),s=t(4318);const i={id:"rule-preset",title:"Creating Preset"},o=void 0,c={},d=[{value:"Example",id:"example",level:2},{value:"Publishing",id:"publishing",level:2},{value:"Package Naming Conventions",id:"package-naming-conventions",level:3},{value:"Keywords",id:"keywords",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:'"preset" is a collection of rules and rulesConfig.'}),"\n",(0,l.jsx)(n.p,{children:"The basic source code format for a preset is:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'module.exports = {\n    rules: {\n        "no-todo": require("textlint-rule-no-todo").default\n    },\n    rulesConfig: {\n        "no-todo": true\n    }\n};\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"rules"'})," is rule creator object."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"rulesConfig"'})," is rule config object for ",(0,l.jsx)(n.code,{children:'"rules"'}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.p,{children:'e.g.) "textlint-rule-preset-gizmo"'}),"\n",(0,l.jsx)(n.p,{children:"textlint-rule-preset-gizmo includes the following rules:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ruleA"}),"\n",(0,l.jsx)(n.li,{children:"ruleB"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"textlint-rule-preset-gizmo.js"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'module.exports = {\n    rules: {\n        ruleA: require("textlint-rule-A"),\n        ruleB: require("textlint-rule-B")\n    },\n    rulesConfig: {\n        ruleA: true,\n        ruleB: true\n    }\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:'Usage of "textlint-rule-preset-gizmo":'}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:".textlintrc.json"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "rules": {\n        "preset-gizmo": {\n            "ruleA": false\n            /* ruleB\'s options is defined by preset-gizmo */\n        }\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Recommended:"})," use ",(0,l.jsx)(n.a,{href:"https://www.npmjs.com/package/@textlint/module-interop",children:"@textlint/module-interop"})," for loading external package."]}),"\n",(0,l.jsxs)(n.p,{children:["When require external textlint rule package, you should use ",(0,l.jsx)(n.a,{href:"https://www.npmjs.com/package/@textlint/module-interop",children:"@textlint/module-interop"})," instead of ",(0,l.jsx)(n.code,{children:"require"})," function.\nBecause, some rule package expose ",(0,l.jsx)(n.code,{children:"exports.default"})," instead of ",(0,l.jsx)(n.code,{children:"exports"}),".\nThat ",(0,l.jsx)(n.code,{children:".default"})," property is generated by ES2015+ transpiler like Babel, TypeScript."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://www.npmjs.com/package/@textlint/module-interop",children:"@textlint/module-interop"})," help to load both of ",(0,l.jsx)(n.code,{children:"exports.default"})," and ",(0,l.jsx)(n.code,{children:"exports"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'const { moduleInterop } = require("@textlint/module-interop");\nmodule.exports = {\n    rules: {\n        ruleA: moduleInterop(require("textlint-rule-external-A")),\n        ruleB: moduleInterop(require("@scope/textlint-rule-external-B"))\n    },\n    rulesConfig: {\n        ruleA: true,\n        ruleB: true\n    }\n};\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Of course, If you use ",(0,l.jsx)(n.a,{href:"https://babeljs.io/",children:"Babel"})," or ",(0,l.jsx)(n.a,{href:"https://www.typescriptlang.org/",children:"TypeScript"}),"(with ",(0,l.jsxs)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html",children:[(0,l.jsx)(n.code,{children:"esModuleInterop"})," option"]}),"), you can just use ",(0,l.jsx)(n.code,{children:"import"})," statement.\nThese transpiler wrap ",(0,l.jsx)(n.code,{children:"require"})," function with interop helper function automatically."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import RuleA from "textlint-rule-external-A";\n// It will be transpiled to `const RuleA = __importDefault(require("textlint-rule-external-A"))`\nimport RuleB from "@scope/textlint-rule-external-B";\n// It will be transpiled to `const RuleB = __importDefault(require("textlint-rule-external-B"))`\nmodule.exports = {\n    rules: {\n        ruleA: RuleA,\n        ruleB: RuleB\n    },\n    rulesConfig: {\n        ruleA: true,\n        ruleB: true\n    }\n};\n'})}),"\n",(0,l.jsx)(n.h2,{id:"publishing",children:"Publishing"}),"\n",(0,l.jsx)(n.p,{children:"If you want to publish your textlint rule preset, see following documents."}),"\n",(0,l.jsx)(n.h3,{id:"package-naming-conventions",children:"Package Naming Conventions"}),"\n",(0,l.jsxs)(n.p,{children:["textlint rule package naming should have ",(0,l.jsx)(n.code,{children:"textlint-rule-preset-"})," prefix."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"textlint-rule-preset-<name>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@scope/textlint-rule-preset-<name>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["textlint supports ",(0,l.jsx)(n.a,{href:"https://docs.npmjs.com/misc/scope",title:"Scoped packages",children:"Scoped packages"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Example: ",(0,l.jsx)(n.code,{children:"textlint-rule-preset-example"})]}),"\n",(0,l.jsx)(n.p,{children:"textlint user use it following:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "rules": {\n        "preset-example": true\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Example: ",(0,l.jsx)(n.code,{children:"@textlint-rule/textlint-rule-preset-google-developer"})]}),"\n",(0,l.jsx)(n.p,{children:"textlint user use it following:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n    "rules": {\n        "@textlint-rule/preset-google-developer": true\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"keywords",children:"Keywords"}),"\n",(0,l.jsxs)(n.p,{children:["You should add ",(0,l.jsx)(n.code,{children:"textlintrule"})," to npm's ",(0,l.jsx)(n.code,{children:"keywords"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "name": "textlint-rule-preset-foo-bar",\n  "description": "Your preset of rules description",\n  "version": "1.0.1",\n  "keywords": [\n    "textlintrule"\n  ]\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},4318:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var r=t(4700);const l={},s=r.createContext(l);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);