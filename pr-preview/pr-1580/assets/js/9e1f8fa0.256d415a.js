"use strict";(self.webpackChunktextlint_website=self.webpackChunktextlint_website||[]).push([[2665],{3345:e=>{e.exports=JSON.parse('{"permalink":"/blog/2021/05/24/textlint-12","source":"@site/blog/2021-05-24-textlint-12.md","title":"textlint v12.0.0","description":"We just publish textlint v12.0.0, which is a major release upgrade of textlint.","date":"2021-05-24T00:00:00.000Z","tags":[],"readingTime":4.01,"hasTruncateMarker":false,"authors":[{"name":"azu","title":"textlint creator","url":"http://github.com/azu","imageURL":"https://github.com/azu.png","key":"azu","page":null}],"frontMatter":{"title":"textlint v12.0.0","authors":"azu"},"unlisted":false,"prevItem":{"title":"textlint v13.0.0","permalink":"/blog/2023/01/27/textlint-13"},"nextItem":{"title":"textlint 11 released","permalink":"/blog/2018/07/22/textlint-11"}}')},4318:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var s=n(4700);const i={},r=s.createContext(i);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:t},e.children)}},6041:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>s,toc:()=>h});var s=n(3345),i=n(7968),r=n(4318);const l={title:"textlint v12.0.0",authors:"azu"},d=void 0,c={authorsImageUrls:[void 0]},h=[{value:"Summary",id:"summary",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Package Versions",id:"package-versions",level:2},{value:"<code>@textlint/markdown-to-ast</code>",id:"textlintmarkdown-to-ast",level:2},{value:"Features",id:"features",level:3},{value:"Add <code>FootnoteReference</code> node",id:"add-footnotereference-node",level:4},{value:"Known bugs",id:"known-bugs",level:3},{value:"<code>textlint-tester</code>",id:"textlint-tester",level:2},{value:"<code>textlint-scripts</code>",id:"textlint-scripts",level:2},{value:"<code>@textlint/types</code>",id:"textlinttypes",level:2},{value:"<code>@textlint/ast-tester</code>",id:"textlintast-tester",level:2},{value:"Community News \ud83c\udd95",id:"community-news-",level:2},{value:"Thanks to Support!",id:"thanks-to-support",level:2}];function x(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",iframe:"iframe",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"We just publish textlint v12.0.0, which is a major release upgrade of textlint."}),"\n",(0,i.jsx)(t.p,{children:"This release adds some new features and fixes several bugs found in the previous release.\nThis release also has some breaking changes."}),"\n",(0,i.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"For textlint user"})}),"\n",(0,i.jsx)(t.p,{children:"textlint improves markdown parsing, so it may found newer errors."}),"\n",(0,i.jsx)(t.p,{children:"You can upgrade textlint via following commands:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"npm install textlint@12\n# or\nyarn install textlint@12\n"})}),"\n",(0,i.jsx)(t.p,{children:"textlint 12.0.0 requires Node.js 12+.\nIf you are using Node.js 10.x, please upgrade your Node.js env."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://nodejs.org/en/download/",children:"Download | Node.js"})}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"For textlint rule creator"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"textlint-tester"})," and ",(0,i.jsx)(t.code,{children:"textlint-scripts"})," are updated."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"npm install textlint-scripts@12 --save-dev\n# or\nyarn install textlint-scripts@12 --dev\n"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"textlint-tester@12"})," use ",(0,i.jsx)(t.code,{children:"export default"})," instead of ",(0,i.jsx)(t.code,{children:"modules.exports = "}),".\nSo, you need to use ",(0,i.jsx)(t.code,{children:'import TextLintTester from "textlint-tester"'})," instead of ",(0,i.jsx)(t.code,{children:'const TextLintTester = require("textlint-tester")'}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-diff",children:'- const TextLintTester = require("textlint-tester");\n+ import TextLintTester from "textlint-tester";\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Migration script using ",(0,i.jsx)(t.a,{href:"https://semgrep.dev/docs/getting-started/#run-semgrep-locally",children:"Semgrep"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"# Install semgrep\n# For macOS\n$ brew install semgrep\n\n# For Ubuntu / Windows via WSL / Linux / macOS\n$ python3 -m pip install semgrep\n\n# ---- After installation ----\n\n# Run migration script\nsemgrep --config s/azu:textlint-12-migration\n"})}),"\n",(0,i.jsx)(t.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["All ",(0,i.jsx)(t.code,{children:"@textlint/*"})," internal modules use same version\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["All modules are released as ",(0,i.jsx)(t.code,{children:"12.0.0"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Drop Node.js 10.x support ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/600",children:"#600"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["update ",(0,i.jsx)(t.code,{children:"engines"})," filels to ",(0,i.jsx)(t.code,{children:'"node": "^12.20.0 || ^14.13.1 || >=16.0.0"'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Modules require ES2015 supported environments ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/777",children:"#777"})," ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/774",children:"#774"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Now, all module target is ES2015"}),"\n",(0,i.jsx)(t.li,{children:"It means that textlint does not support IE"}),"\n",(0,i.jsx)(t.li,{children:"\ud83d\udcdd Node.js 12+ support ES2018+"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Built-in markdown parser is updated\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"@textlint/markdown-to-ast@12"})," use ",(0,i.jsx)(t.a,{href:"https://github.com/remarkjs/remark/releases/tag/13.0.0",children:"remark@13.0.0"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"package-versions",children:"Package Versions"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Breaking Changes"}),(0,i.jsx)(t.th,{children:"Package"}),(0,i.jsx)(t.th,{children:"Previous version"}),(0,i.jsx)(t.th,{children:"Current version"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"textlint"}),(0,i.jsx)(t.td,{children:"11.9.1"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"textlint-tester"}),(0,i.jsx)(t.td,{children:"5.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"textlint-scripts"}),(0,i.jsx)(t.td,{children:"3.0.0"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/ast-node-types"}),(0,i.jsx)(t.td,{children:"4.4.3"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/ast-traverse"}),(0,i.jsx)(t.td,{children:"2.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/ast-tester"}),(0,i.jsx)(t.td,{children:"2.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/feature-flag"}),(0,i.jsx)(t.td,{children:"3.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/fixer-formatter"}),(0,i.jsx)(t.td,{children:"3.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"@textlint/kernel"}),(0,i.jsx)(t.td,{children:"3.4.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/linter-formatter"}),(0,i.jsx)(t.td,{children:"3.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/module-interop"}),(0,i.jsx)(t.td,{children:"1.2.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"@textlint/textlint-plugin-markdown"}),(0,i.jsx)(t.td,{children:"5.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u3000"}),(0,i.jsx)(t.td,{children:"@textlint/textlint-plugin-text"}),(0,i.jsx)(t.td,{children:"4.3.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"\u2714"}),(0,i.jsx)(t.td,{children:"@textlint/types"}),(0,i.jsx)(t.td,{children:"1.5.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"@textlint/utils"}),(0,i.jsx)(t.td,{children:"1.2.5"}),(0,i.jsx)(t.td,{children:"12.0.0"})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Now, This monorepo includes ",(0,i.jsx)(t.code,{children:"textlint-scripts"})," package in ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/779",children:"#779"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"textlintmarkdown-to-ast",children:(0,i.jsx)(t.code,{children:"@textlint/markdown-to-ast"})}),"\n",(0,i.jsxs)(t.p,{children:["It is a markdown parser in textlint.\nWe have updated to ",(0,i.jsx)(t.a,{href:"https://github.com/remarkjs/remark/releases/tag/13.0.0",children:"remark@13.0.0"}),", and it has many changes related to Markdown AST"]}),"\n",(0,i.jsxs)(t.p,{children:["You can see the changes at ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/pull/767",children:"feat(markdown-to-ast): update to remark-parse@9 #767"})]}),"\n",(0,i.jsx)(t.p,{children:"This package updates also includes security fixes.\nCVE-2020-7753 has been fixed in textlint 12.0.0."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://github.com/advisories/GHSA-w5p7-h5w8-2hfq",children:"Regular Expression Denial of Service in trim \xb7 CVE-2020-7753 \xb7 GitHub Advisory Database"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(t.h4,{id:"add-footnotereference-node",children:["Add ",(0,i.jsx)(t.code,{children:"FootnoteReference"})," node"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-markdown",children:"The NATO phonetic alphabet[^wiki].\n\n[^wiki]: Read more about it on wikipedia: <http://en.wikipedia.org/wiki/NATO_phonetic_alphabet>.\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Previously, It is called ",(0,i.jsx)(t.code,{children:"LinkReference"}),", textlint@12 treat it as ",(0,i.jsx)(t.code,{children:"FootnoteReference"}),".\nSome rules may report new errors on ",(0,i.jsx)(t.code,{children:"FootnoteReference"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"known-bugs",children:"Known bugs"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["gfm parsing bug that generate broken AST: ",(0,i.jsx)(t.a,{href:"https://github.com/remarkjs/remark-gfm/issues/16",children:"remarkjs/remark-gfm#16"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\u2192 textlint use workaround:  ",(0,i.jsx)(t.a,{href:"https://github.com/remarkjs/remark-gfm/issues/16#issuecomment-846357030",children:"remarkjs/remark-gfm#16 (comment)"})," at ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/commit/c99218ea37518e8a42bb5d283276ccf696618748",children:(0,i.jsx)(t.code,{children:"c99218e"})})]}),"\n",(0,i.jsx)(t.li,{children:"\u2192 markdown-to-ast does not generate broken AST."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"textlint-tester",children:(0,i.jsx)(t.code,{children:"textlint-tester"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["use ",(0,i.jsx)(t.code,{children:"export default"})," instead of ",(0,i.jsx)(t.code,{children:"export ="})," ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/775",children:"#775"})," ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/689",children:"#689"})]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"textlint-tester"})," user should use ",(0,i.jsx)(t.code,{children:"import"})," instead of ",(0,i.jsx)(t.code,{children:"require"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-diff",children:'- const TextLintTester = require("textlint-tester");\n+ import TextLintTester from "textlint-tester";\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Or, pick ",(0,i.jsx)(t.code,{children:"default"})," property."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-diff",children:'- const TextLintTester = require("textlint-tester");\n+ const TextLintTester = require("textlint-tester").default;\n'})}),"\n",(0,i.jsx)(t.h2,{id:"textlint-scripts",children:(0,i.jsx)(t.code,{children:"textlint-scripts"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Update to mocha@8"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"textlinttypes",children:(0,i.jsx)(t.code,{children:"@textlint/types"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Fix ",(0,i.jsx)(t.code,{children:"getSource"})," argument type ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/770",children:"#770"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"textlintast-tester",children:(0,i.jsx)(t.code,{children:"@textlint/ast-tester"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Improve error message ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint/issues/783",children:"#783"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"community-news-",children:"Community News \ud83c\udd95"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/textlint/textlint-plugin-latex2e",children:"textlint-plugin-latex2e"})," reach to v1.0.0 \ud83c\udf89\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"textlint can lint LaTeX files with this plugin"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/textlint/editor",children:"@textlint/editor"})," beta released \ud83c\udf89\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"textlint works on your browser as browser extension"}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://addons.mozilla.org/firefox/addon/textlint-editor/",children:"textlint editor - Firefox"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://chrome.google.com/webstore/detail/textlint-editor/gfhlfpnpjokocfohicmfbgjneiipfeil",children:"textlint editor - Chrome"})}),"\n",(0,i.jsxs)(t.li,{children:["It's ",(0,i.jsx)(t.a,{href:"https://github.com/textlint/editor#purpose",children:"purpose"})," is privacy first linting tools!"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"thanks-to-support",children:"Thanks to Support!"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"https://github.com/Velc",children:"VELC"})," supports ",(0,i.jsx)(t.a,{href:"https://github.com/azu/",children:"@azu"})," as GitHub Sponsors!"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://tamukai.blog.velc.jp/entry/2021/05/18/091040",children:"\u4f1a\u793e\uff08\u30f4\u30a7\u30eb\u30af\uff09\u3068\u3057\u3066Github Sponsors\u306b\u306a\u308a\u307e\u3057\u305f - \u30f4\u30a7\u30eb\u30af - IT\u8d77\u696d\u306e\u8a18\u9332"})," (Japanese blog)"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Many people support me, Thanks again!"}),"\n",(0,i.jsxs)(t.p,{children:["If you're interested in GitHub Sponsor, please check ",(0,i.jsx)(t.a,{href:"https://github.com/sponsors/azu",children:"@azu on GitHub Sponsors"}),"!"]}),"\n",(0,i.jsx)(t.iframe,{src:"https://github.com/sponsors/azu/card",title:"Sponsor azu",height:"225",width:"600",style:{border:"0"}})]})}function o(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}}}]);